INFO:     Started server process [5407]
INFO:     Waiting for application startup.
INFO:main:[STARTUP] Initializing Unified Flash Engine...
INFO:Backend.langchain_llm_client:[LANGCHAIN_GEMINI] Using mock LLM for testing
INFO:Backend.langchain_retriever:[LANGCHAIN_RETRIEVER] Initialized. Max Results: 5
INFO:Backend.unified_rag_engine:[UNIFIED_ENGINE] ✅ Gemini 2.5 Flash Engine Ready (Streaming Enabled)
INFO:main:[STARTUP] ✅ Unified Flash Engine ready
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:40698 - "GET /health HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'Hello...'
INFO:Backend.unified_rag_engine:[INTENT] Greeting detected
INFO:main:[CHAT] ✅ Response generated (type=greeting)
INFO:     127.0.0.1:40702 - "POST /chat HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'What is artificial intelligence?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Fetching docs for: 'What is artificial intelligence?...'
/home/jules/.pyenv/versions/3.12.12/lib/python3.12/concurrent/futures/thread.py:59: LangChainDeprecationWarning: The method `BaseRetriever.get_relevant_documents` was deprecated in langchain-core 0.1.46 and will be removed in 1.0. Use :meth:`~invoke` instead.
  result = self.fn(*self.args, **self.kwargs)
INFO:Backend.unified_rag_engine:[RETRIEVAL] Found 0 documents
INFO:Backend.unified_rag_engine:[GENERATION] Calling Gemini 2.5 Flash...
INFO:Backend.unified_rag_engine:[PERF] Total query time: 0.01s
INFO:main:[CHAT] ✅ Response generated (type=text)
INFO:     127.0.0.1:40714 - "POST /chat HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'Tell me more about this...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Fetching docs for: 'Tell me more about this...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Found 0 documents
INFO:Backend.unified_rag_engine:[GENERATION] Calling Gemini 2.5 Flash...
INFO:Backend.unified_rag_engine:[PERF] Total query time: 0.01s
INFO:main:[CHAT] ✅ Response generated (type=text)
INFO:     127.0.0.1:40726 - "POST /chat HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'What is the best pasta recipe?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Fetching docs for: 'What is the best pasta recipe?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Found 0 documents
INFO:Backend.unified_rag_engine:[GENERATION] Calling Gemini 2.5 Flash...
INFO:Backend.unified_rag_engine:[PERF] Total query time: 0.00s
INFO:main:[CHAT] ✅ Response generated (type=text)
INFO:     127.0.0.1:40736 - "POST /chat HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'What is the CRAFT prompting framework?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Fetching docs for: 'What is the CRAFT prompting framework?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Found 0 documents
INFO:Backend.unified_rag_engine:[GENERATION] Calling Gemini 2.5 Flash...
INFO:Backend.unified_rag_engine:[PERF] Total query time: 0.00s
INFO:main:[CHAT] ✅ Response generated (type=text)
INFO:     127.0.0.1:40746 - "POST /chat HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'What is AI creativity?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Fetching docs for: 'What is AI creativity?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Found 0 documents
INFO:Backend.unified_rag_engine:[GENERATION] Calling Gemini 2.5 Flash...
INFO:Backend.unified_rag_engine:[PERF] Total query time: 0.00s
INFO:main:[CHAT] ✅ Response generated (type=text)
INFO:     127.0.0.1:40758 - "POST /chat HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'How can students use it?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Fetching docs for: 'How can students use it?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Found 0 documents
INFO:Backend.unified_rag_engine:[GENERATION] Calling Gemini 2.5 Flash...
INFO:Backend.unified_rag_engine:[PERF] Total query time: 0.00s
INFO:main:[CHAT] ✅ Response generated (type=text)
INFO:     127.0.0.1:40762 - "POST /chat HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'Tell me more...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Fetching docs for: 'Tell me more...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Found 0 documents
INFO:Backend.unified_rag_engine:[GENERATION] Calling Gemini 2.5 Flash...
INFO:Backend.unified_rag_engine:[PERF] Total query time: 0.00s
INFO:main:[CHAT] ✅ Response generated (type=text)
INFO:     127.0.0.1:40764 - "POST /chat HTTP/1.1" 200 OK
INFO:main:[CHAT] Processing query: 'What tools can help?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Fetching docs for: 'What tools can help?...'
INFO:Backend.unified_rag_engine:[RETRIEVAL] Found 0 documents
INFO:Backend.unified_rag_engine:[GENERATION] Calling Gemini 2.5 Flash...
INFO:Backend.unified_rag_engine:[PERF] Total query time: 0.00s
INFO:main:[CHAT] ✅ Response generated (type=text)
INFO:     127.0.0.1:40772 - "POST /chat HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:main:[SHUTDOWN] Cleaning up engine...
INFO:Backend.unified_rag_engine:[CLEANUP] Shutting down ThreadPoolExecutor...
INFO:Backend.unified_rag_engine:[CLEANUP] ✅ Cleanup complete
INFO:main:[SHUTDOWN] ✅ Shutdown complete
INFO:     Application shutdown complete.
INFO:     Finished server process [5407]
